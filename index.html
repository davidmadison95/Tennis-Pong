<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Pong Game</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #000;
            font-family: Arial, sans-serif;
        }
        
        #gameContainer {
            text-align: center;
        }
        
        canvas {
            border: 2px solid #fff;
            background-color: #000;
        }
        
        #score {
            color: white;
            font-size: 24px;
            margin-bottom: 10px;
        }
        
        #instructions {
            color: white;
            font-size: 16px;
            margin-top: 10px;
        }
        
        #gameOver {
            color: yellow;
            font-size: 32px;
            margin-top: 10px;
            display: none;
        }
    </style>
</head>
<body>
    <div id="gameContainer">
        <div id="score">Player 1: <span id="score1">0</span> | Player 2: <span id="score2">0</span></div>
        <canvas id="pongCanvas" width="1000" height="500"></canvas>
        <div id="instructions">
            Player 1: W (up) / S (down) | Player 2: ↑ (up) / ↓ (down) | Press SPACE to start/reset
        </div>
        <div id="gameOver">Game Over! Press SPACE to restart</div>
    </div>

    <script>
        const canvas = document.getElementById('pongCanvas');
        const ctx = canvas.getContext('2d');
        
        // Game state
        let gameRunning = false;
        let gameEnded = false;
        const WINNING_SCORE = 10;
        
        // Paddle properties
        const PADDLE_WIDTH = 15;
        const PADDLE_HEIGHT = 100;
        const PADDLE_SPEED = 7;
        
        // Ball properties
        const BALL_SIZE = 12;
        const INITIAL_BALL_SPEED = 5;
        let currentBallSpeed = INITIAL_BALL_SPEED;
        const BALL_ACCELERATION = 0.1; // Acceleration per paddle hit
        
        // Game objects
        const player1 = {
            x: 25,
            y: canvas.height / 2 - PADDLE_HEIGHT / 2,
            score: 0,
            upPressed: false,
            downPressed: false
        };
        
        const player2 = {
            x: canvas.width - 40,
            y: canvas.height / 2 - PADDLE_HEIGHT / 2,
            score: 0,
            upPressed: false,
            downPressed: false
        };
        
        const ball = {
            x: canvas.width / 2,
            y: canvas.height / 2,
            velX: 0,
            velY: 0
        };
        
        // Event listeners
        document.addEventListener('keydown', (e) => {
            if (e.code === 'KeyW') player1.upPressed = true;
            if (e.code === 'KeyS') player1.downPressed = true;
            if (e.code === 'ArrowUp') player2.upPressed = true;
            if (e.code === 'ArrowDown') player2.downPressed = true;
            if (e.code === 'Space') {
                e.preventDefault();
                if (!gameRunning || gameEnded) {
                    resetGame();
                    startGame();
                }
            }
        });
        
        document.addEventListener('keyup', (e) => {
            if (e.code === 'KeyW') player1.upPressed = false;
            if (e.code === 'KeyS') player1.downPressed = false;
            if (e.code === 'ArrowUp') player2.upPressed = false;
            if (e.code === 'ArrowDown') player2.downPressed = false;
        });
        
        function getRandomSpawnPoint() {
            // Always spawn at the center X position (on the center line)
            const x = canvas.width / 2;
            
            // Random Y position (avoiding edges)
            const minY = BALL_SIZE + 50;
            const maxY = canvas.height - BALL_SIZE - 50;
            const y = Math.random() * (maxY - minY) + minY;
            
            return { x, y };
        }
        
        function resetGame() {
            // Reset scores
            player1.score = 0;
            player2.score = 0;
            
            // Reset positions
            player1.y = canvas.height / 2 - PADDLE_HEIGHT / 2;
            player2.y = canvas.height / 2 - PADDLE_HEIGHT / 2;
            
            // Reset ball to random spawn point
            const spawnPoint = getRandomSpawnPoint();
            ball.x = spawnPoint.x;
            ball.y = spawnPoint.y;
            
            // Reset ball speed
            currentBallSpeed = INITIAL_BALL_SPEED;
            
            // Random initial direction
            ball.velX = currentBallSpeed * (Math.random() > 0.5 ? 1 : -1);
            ball.velY = currentBallSpeed * (Math.random() > 0.5 ? 1 : -1);
            
            // Reset game state
            gameEnded = false;
            updateScore();
            document.getElementById('gameOver').style.display = 'none';
        }
        
        function startGame() {
            gameRunning = true;
            gameLoop();
        }
        
        function updatePaddles() {
            // Player 1 movement
            if (player1.upPressed && player1.y > 0) {
                player1.y -= PADDLE_SPEED;
            }
            if (player1.downPressed && player1.y < canvas.height - PADDLE_HEIGHT) {
                player1.y += PADDLE_SPEED;
            }
            
            // Player 2 movement
            if (player2.upPressed && player2.y > 0) {
                player2.y -= PADDLE_SPEED;
            }
            if (player2.downPressed && player2.y < canvas.height - PADDLE_HEIGHT) {
                player2.y += PADDLE_SPEED;
            }
        }
        
        function updateBall() {
            ball.x += ball.velX;
            ball.y += ball.velY;
            
            // Top and bottom wall bouncing
            if (ball.y <= 0 || ball.y >= canvas.height - BALL_SIZE) {
                ball.velY = -ball.velY;
            }
            
            // Paddle collision detection and acceleration
            // Player 1 paddle
            if (ball.x <= player1.x + PADDLE_WIDTH &&
                ball.x >= player1.x &&
                ball.y <= player1.y + PADDLE_HEIGHT &&
                ball.y >= player1.y - BALL_SIZE) {
                ball.velX = -ball.velX;
                
                // Increase speed
                currentBallSpeed += BALL_ACCELERATION;
                const speedRatio = currentBallSpeed / Math.abs(ball.velX);
                ball.velX *= speedRatio;
                ball.velY *= speedRatio;
            }
            
            // Player 2 paddle
            if (ball.x + BALL_SIZE >= player2.x &&
                ball.x <= player2.x + PADDLE_WIDTH &&
                ball.y <= player2.y + PADDLE_HEIGHT &&
                ball.y >= player2.y - BALL_SIZE) {
                ball.velX = -ball.velX;
                
                // Increase speed
                currentBallSpeed += BALL_ACCELERATION;
                const speedRatio = currentBallSpeed / Math.abs(ball.velX);
                ball.velX *= speedRatio;
                ball.velY *= speedRatio;
            }
            
            // Scoring
            if (ball.x <= 0) {
                player2.score++;
                resetBallAfterScore();
            } else if (ball.x >= canvas.width) {
                player1.score++;
                resetBallAfterScore();
            }
            
            updateScore();
            checkGameEnd();
        }
        
        function resetBallAfterScore() {
            // Get random spawn point
            const spawnPoint = getRandomSpawnPoint();
            ball.x = spawnPoint.x;
            ball.y = spawnPoint.y;
            
            // Reset ball speed to initial speed
            currentBallSpeed = INITIAL_BALL_SPEED;
            
            // Random initial direction
            ball.velX = currentBallSpeed * (Math.random() > 0.5 ? 1 : -1);
            ball.velY = currentBallSpeed * (Math.random() > 0.5 ? 1 : -1);
        }
        
        function updateScore() {
            document.getElementById('score1').textContent = player1.score;
            document.getElementById('score2').textContent = player2.score;
        }
        
        function checkGameEnd() {
            if (player1.score >= WINNING_SCORE || player2.score >= WINNING_SCORE) {
                gameEnded = true;
                gameRunning = false;
                document.getElementById('gameOver').style.display = 'block';
            }
        }
        
        function draw() {
            // Clear canvas
            ctx.fillStyle = '#000';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Draw center line
            ctx.setLineDash([5, 5]);
            ctx.strokeStyle = '#fff';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(canvas.width / 2, 0);
            ctx.lineTo(canvas.width / 2, canvas.height);
            ctx.stroke();
            ctx.setLineDash([]);
            
            // Draw paddles
            ctx.fillStyle = '#fff';
            ctx.fillRect(player1.x, player1.y, PADDLE_WIDTH, PADDLE_HEIGHT);
            ctx.fillRect(player2.x, player2.y, PADDLE_WIDTH, PADDLE_HEIGHT);
            
            // Draw ball
            ctx.fillStyle = '#fff';
            ctx.fillRect(ball.x, ball.y, BALL_SIZE, BALL_SIZE);
        }
        
        function gameLoop() {
            if (!gameRunning || gameEnded) return;
            
            updatePaddles();
            updateBall();
            draw();
            
            requestAnimationFrame(gameLoop);
        }
        
        // Initial draw
        draw();
    </script>
</body>
</html>
